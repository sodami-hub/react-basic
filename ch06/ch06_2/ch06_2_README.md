# 06-2 Outlet 컴포넌트와 중첩 라우팅
이 절에서는 리액트 라우터 패키지의 Outlet 컴포넌트를 알아본다. Outlet 컴포넌트는 라우트를 중첩하여 내비게이션 메뉴나 바닥글처럼
컴포넌트마다 공통으로 사용하는 부분의 코드를 줄여준다.

## 🎈 리액트 Outlet 컴포넌트
앞서 만든 애플리케이션에서 Board 메뉴로 들어가면 내비게이션 메뉴가 없어서 다른 경로로 이동할 때 불편하다.
그런데 내비게이션 메뉴를 만들려고 하면 모든 라우트 컴포넌트마다 거의 똑같은 코드를 작성해야 한다.
리액트 라우터는 이런 번거로움을 줄이고자 Outlet이란 컴포넌트를 제공한다.  
리액트 라우터 패키지 버전 6에서 가장 큰 변화는 Outlet 컴포넌트가 도입되었다는 것이다. Outlet 컴포넌트는 다른 컴포넌트들이
렌더리오디는 위치를 지정해 주는 역할을 한다.  
src/routes/Layout 디렉터리의 index.tsx 파일에 코드를 작성한다. 코드에서 Outlet 컴포넌트는 RoutesSetup.tsx 파일에서 설정한
라우트 경로의 컴포넌트가 여기에 위치하게 하는 역할을 한다.  
그리고 src/routes 디렉터리의 RoutesSetup.tsx 파일을 작성한다. 앞서 언급한대로 Outlet 컴포넌트는 다른 컴포넌트가
렌더링되는 위치를 지정해 주는 용도이므로 Outlet에 보이기 원하는 컴포넌트는 Outlet 을 사용하는 컴포넌트(예에서는 Layout 컴포넌트)의
자식 라우터로 구성한다. 따라서 Board와 NoMatch 의 Route 는 Layout 의 자식으로 설정한다.  
코드를 작성하고 'http://localhost3000' 주소로 접속해서 개발자 도구 창의 Element 를 열어보면 Layout 컴포넌트 내부의
`<Outlet>` 컴포넌트를 현재는 찾을 수 없다. 하지만 'http://localhost3000/board' 경로를 입력해보면 Board 컴포넌트가 화면에 나타난다.  
웹 브라우저의 화면과 RoutesSetup.tsx 파일 내용을 비교해 보면, Layout 내부의 Outlet 컴포넌트는 자신의 자식 라우트
경로에 설정된 컴포넌트를 화면에 나타나게 하는 역할을 하고 있음을 알 수 있다.
방금 작성한 RoutesSetup.tsx 는 NoMatch 는 Outlet 의 자식 라우터로 설정되는데, 리액트 라우터에서는 이를 중첩 라우트 설정이라고 한다.
리액트에서 부모 컴포넌트는 자식 컴포넌트 안에서 렌더링될 수 없다. 또한 형제 컴포넌트가 다른 형제 컴포넌트 안에서 렌더링 될 수 없다.
따라서 NoMatch 가 Outlet 안에서 렌더링되려면 라우터 설정은 부모/자식 관계의 라우팅, 즉 중첩 라우팅 형태로 설정해야 한다.

### 🕸️ 색인 라우트 알아보기
앞선 라우트 설정 코드에서 한 가지 문제는 경로가 '/' 일 때 Outlet 을 채ㅔ울 컴포넌트를 지정하지 않았으므로 'http://localhost3000' 주소로
접속하면 아무것도 나타나지 않는다는 점이다. 이제 경로가 '/' 일 때 Outlet에 자동으로 기본 컴포넌트를 나타나게 하는 방법을 알아보겠다.  
Route 컴포넌트는 index란 이름의 boolean 타입 속성을 제공한다. `<Route index/>` 형태로 사용하는 Route를 색인 라우트라고 한다.
다음 RoutesSetup.tsx 파일은 색인 라우트 형태로 LandingPage라는 컴포넌트의 경로를 설정한다.  
실행 결과 경로가 '/'일 때 LandingPage 컴포넌트가 나타나는 것을 볼 수 있다. 

## 🎈 네비게이션 메뉴와 바닥글 만들기
앞에서 알아본 Outlet 과 중첩 라우트를 이용하면 어느 컴포넌트에서나 공통으로 보이는 내용을 간편하게 만들 수 있다. 여기서는 상단에는 내비게이션 메뉴,
하단에는 바닥글(footer)이 보이고, 그 사이에 Outlet의 자식 라우트 경로에 설정한 컴포넌트가 보이도록 만들어 보겠다.  
src/routes/Layout 디렉터리에 NavigationBar.tsx, Footer.tsx 파일을 만들고 코드를 작성한다.  
그리고 src/routes/Layout/index.tsx 파일에 이 두 컴포넌트를 추가한다.

## 🎈 랜딩 페이지 만들기
사용자가 특정 웹 사이트에 접속할 때 처음 보게 되는 페이지를 랜딩 페이지라고 부른다. 보통 랜딩페이지는 방문자가 호감을 가질 수 있도록
마케팅 관점에서 웹 사이트의 대표 이미지, 슬로건, 프로모션 등의 내용으로 채운다.  
src/routes/LandingPage 에 3개의 파일을 만들고 해당 디렉터리의 index.tsx 를 작성한다.

### 🕸️ 히어로 영역 만들기
랜딩 페이지에서 해당 웹 사이트를 대표하는 이미지를 히어로 이미지라고 부르는 경향이 있다. 그리고 히어로 이미지와 함께
해당 웹 사이트를 대표하는 슬로건과 대표 메뉴로 가는 버틍을 함께 제공하는데 이를 히어로 영역이라고 한다.  
Hero.tsx 파일에 코드를 작성한다. 히어로 이미지와 함께 슬로건, 대표 메뉴로 가는 버틍으로 히어로 영역을 구현한다.

### 🕸️ 프로모션 영역 만들기
랜딩 페이지는 마케팅적인 측면이 강하므로 특정 고객이 어떤 평가를 하는지 구체적인 사례를 보여 줄 때가 많다.
이런 화면을 만들려면 고객 평가 데이터가 필요하므로, src/data/CustomerComment.ts 파일을 만들고 코드를 작성한다.  
src/data/CustomerComment.ts 파일을 사용하여 src/routes/LandingPage 의 CustomerComment.tsx 에 코드를 작성한다.
코드는 고객의 아바타 이미지가 CustomerComment 컴포넌트 바깥 위쪽에 보이도록 position 스타일 속성에 absolute 클래스를 적용했고,
아바타 이미지의 부모 클래스에는 relative 클래스를 적용했다.  
이렇게 만든 CustomerComment 컴포넌트를 Promotion.tsx 파일에 적용한다. 여기까지 작성하면 웹 브라우저에서 프로모션 영역을 확인할 수 있다.

## 🎈 커스텀 Link 컴포넌트 만들기
대부분의 웹 페이지는 메뉴(링크) 밑에 밑줄을 긋는 방식으로 현재 보이는 웹 페이지가 어떤 메뉴에 속하는지를 알려준다. daisyui 는 버튼이 활성화된 것을
시각적으로 보여 주는 btn-active 클래스를 제공한다. 현재 보이는 페이지의 메뉴에 밑줄을 그어보겠다. src/components/Link.tsk 파일을 생성하고
초기 코드를 구현하고, 해당 디렉터리의 index.ts 에 코드를 추가한다.  
그리고 src/routes/Layout 디렉터리의 NavigationBar.tsx 에 Link 컴포넌트를 적용한다.

### 🕸️ useResolvedPath 와 useMatch 훅 알아보기
이제 Link 컴포넌트가 현재 페이지에 해당하는 메뉴에만 밑줄을 표시하도록 만들어보겠다. 여기서는 useResolvedPath 와 useMatch 훅을 사용한다.
Link.tsx 파일에 이 두 훅을 구현한다.  
코드를 작성하고 웹 페이지에서 메뉴를 통해서 화면을 전환해보면 활성화되지 않은 메뉴는 match 값이 항상 null 임을 알 수 있다.


## 🎈


### 🕸️
### 🕸️
### 🕸️

